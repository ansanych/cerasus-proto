syntax = "proto3";
import "cerasusV3.proto";

package cerasusV3;

option go_package = "github.com/ansanych/cerasus-proto";

service Datum {
    rpc Ping (PingRequest) returns (PingReply) {}
    rpc SetQueueJob(QueuerJob) returns (StatusReply) {}
    rpc GetShopSalesWidget(RequestByShop) returns (ShopWidget) {}
    rpc GetOrderLeaders (RequestByShop) returns (OrderLeaders) {}
}

message ShopWidgetData {
    string title = 1;
    int32 salesCount = 2;
    int32 salesSum = 3;
    int32 ordersCount = 4;
    int32 ordersSum = 5;
}

message ShopWidget {
    repeated ShopWidgetData data = 1;
}

message OrderLeader {
    int64 productID = 1;
    string title = 2;
    string preview = 3;
    string shop = 4;
    int32 count = 5;
    int32 index = 6;
}

message OrderLeaders {
    repeated OrderLeader leaders = 1;
}